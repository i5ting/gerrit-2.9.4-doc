<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Asciidoctor 0.1.4">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>not valid ref</title>
<style>
body {
  margin: 1em auto;
  width: 900px;
}

#toctitle {
  margin-top: 0.5em;
  font-weight: bold;
}

h1, h2, h3, h4, h5, h6, #toctitle {
  color: #527bbd;
  font-family: sans-serif;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}

p {
  margin: 0.5em 0 0.5em 0;
}
li p {
  margin: 0.2em 0 0.2em 0;
}

.listingblock > .content {
  border: 2px solid silver;
  background: #ebebeb;
  margin-left: 2em;
  color: darkgreen;
  padding: 2px;
  overflow: auto;
}

.listingblock > .content pre {
  background: none;
  border: 0 solid silver;
  padding: 0 0 0 0;
}

dl dt {
  margin-top: 1em;
}

table.tableblock {
  border-collapse: collapse;
}

table.tableblock,
th.tableblock,
td.tableblock {
  border: 1px solid #EEE;
}
</style>
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css">
<script src="http://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js"></script>
<script>document.addEventListener('DOMContentLoaded', prettyPrint)</script>
</head>
<body class="article">
<div id="header">
<h1>not valid ref</h1>
<span id="revnumber">version v2.9.4</span>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_ref_format_for_pushing_a_commit_for_code_review">ref format for pushing a commit for code review:</a></li>
<li><a href="#_ref_format_for_directly_pushing_a_commit_without_code_review">ref format for directly pushing a commit (without code review):</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>With this error message Gerrit rejects to push a commit if the target
ref in the push specification has an incorrect format (for example:
<em>/refs/for/master</em>, <em>refs/for//master</em>).</p>
</div>
<div class="paragraph">
<p>To solve the problem you have to correct the target ref in the push
specification. Depending on whether you want to push your commit with
or without code review the ref format is different:</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ref_format_for_pushing_a_commit_for_code_review">ref format for pushing a commit for code review:</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If it was the intention to push a commit for code review the target
ref in the push specification must be the project&#8217;s magical ref
<code>refs/for/'branch'</code> (where <em>branch</em> must be replaced with the name
of an existing branch to which you want to push your commit). Further
details about how to push a commit for code review are explained at
<a href="user-upload.html#push_create">Create Changes</a>).</p>
</div>
<div class="paragraph">
<p>Example for pushing a commit for code review to the <em>master</em> branch:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git push ssh://JohnDoe@host:29418/myProject HEAD:refs/for/master</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ref_format_for_directly_pushing_a_commit_without_code_review">ref format for directly pushing a commit (without code review):</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If it was the intention to bypass code review and to push directly to
a branch the target ref in the push specification must be the name of
the branch to which you want to push. Further details about how to
bypass code review are explained at <a href="user-upload.html#bypass_review">Bypass Review</a>.</p>
</div>
<div class="paragraph">
<p>Example for pushing a commit directly to the <em>master</em> branch (without
code review):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git push ssh://JohnDoe@host:29418/myProject HEAD:master</pre>
</div>
</div>
<hr style="
  height: 2px;
  color: silver;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
">
<div class="paragraph">
<p>Part of <a href="error-messages.html">Gerrit Error Messages</a></p>
</div>
<div style="position:absolute; right:20px; top:20px;">
<input type="text" id="docSearch" size="70" />
<button type="button" id="searchBox">Search</button>
<script type="text/javascript">
var f = function() {
  window.location = '../#/Documentation/' +
    encodeURIComponent(document.getElementById("docSearch").value);
}
document.getElementById("searchBox").onclick = f;
document.getElementById("docSearch").onkeypress = function(e) {
  if (13 == (e.keyCode ? e.keyCode : e.which)) {
    f();
  }
}
</script>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version v2.9.4<br>
</div>
</div>
</body>
</html>